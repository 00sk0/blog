<!DOCTYPE html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://00sk0.github.io/blog/common/bundle.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://00sk0.github.io/blog/common/bundle.js"></script>
    <link rel="canonical" href="https://00sk0.github.io/blog/posts/abc120/"></link>
    <title>
        AtCoder Beginner Contest #120 - sk0&#39;s blog</title>
  </head>
  <body>
    <div id="background"></div>
    <div id="wrap">
      <header id="top">
        <div id="title">
          <h1><a href="https://00sk0.github.io/blog/">sk0&#39;s blog</a></h1>
        </div>
        <nav id="site">
          <ul>
            
            
            
            <li><a href="https://00sk0.github.io/blog/about">about</a></li>
          </ul>
        </nav>
      </header>
      <main>
        <article id="main">
          <header>
            <h1>AtCoder Beginner Contest #120</h1>
            
            <div id="article_info">
              <p id="dates">published:
                <time>Mar 4, 2019,</time><br> modified:
                <time>Dec 14, 2019.</time>
              </p>
              <p id="categories">
                categories:
                
                
                <a href="https://00sk0.github.io/blog/categories/competitive_programming">competitive_programming</a>
                
                
              </p>
              <p id="tags">
                tags:
                
                
                <a href="https://00sk0.github.io/blog/tags/contest">contest</a>
                
                <a href="https://00sk0.github.io/blog/tags/atcoder">atcoder</a>
                
                <a href="https://00sk0.github.io/blog/tags/ocaml">ocaml</a>
                
                
              </p>
            </div>
            
          </header>
          

<p>未だにABC#116,117の記事が書けていないことが気になる（#117は大体書けたけど#116のVarious Sushiの証明ができていない）．</p>

<h1 id="a-favorite-sound">A. Favorite Sound</h1>

<p>お金を消費して聴ける回数は切り捨てで$b/a$回．聴く回数はこれと聴きたい回数$c$とのうち小さいほう． <a href="https://atcoder.jp/contests/abc120/submissions/4462073">https://atcoder.jp/contests/abc120/submissions/4462073</a></p>

<p>やはり切り捨てか否かは今でもちょっと迷う．今回のような$\max k \in Z \st k \le p/q$では切り捨て，$\min k \in Z \st k \ge p/q$なら切り上げ，$\lt, \gt$の場合は$p/q$が整数かどうかの場合分けを加える感じだろうか．このように$k$を求める形に書き換えて考えると納得しやすいと個人的には思う．今回は$ak \le b$なので切り捨て．</p>

<h1 id="b-k-th-common-divisor">B. K-th Common Divisor</h1>

<p>約数を調べても良さそうだが，$A,B$が小さいのでループでよい．約数$d$の存在範囲は$1 \le d \le \min \{A,B\}$であるから（これが浮かばなくても$100$からループを回せばよい），この範囲の数を降順に調べ，約数かどうかを判定していけばよい． <a href="https://atcoder.jp/contests/abc120/submissions/4462072">https://atcoder.jp/contests/abc120/submissions/4462072</a></p>

<p>editorialにある「$A,B$の公約数は$\gcd \{A,B\}$の約数」は言われてみれば当たり前ではあるが意外と盲点だったので覚えておきたい．</p>

<h1 id="c-unification">C. Unification</h1>

<p>無くなるまで消すような解法では間に合わなそうなので別角度から．最終状態を先に考えると，異なる数字が隣り合う箇所が無くなっているはず．すなわち残った数字は一種類だけのはず．従って少ないほうの数字がすべて消費されることが分かるが，このとき操作の条件から多いほうの数字も同数だけ消費される．勿論これ以上は消せないから，よって答えは$2 \times \min \{(0$の数$),(1$の数$)\}$． <a href="https://atcoder.jp/contests/abc120/submissions/4462071">https://atcoder.jp/contests/abc120/submissions/4462071</a></p>

<p>こういう系の問題は苦手だが今回は瞬間的に↑が浮かんで良かった．実装が思いっきり破壊的だがこれは<code>String</code>に<code>fold</code>がなく非破壊的に書こうとすると面倒なため．まあ<code>Array.init</code>を使えばよかったのだけど．</p>

<h1 id="d-decayed-bridges">D. Decayed Bridges</h1>

<p>UnionFindライブラリにバグを埋め込んでいて少々困った：連結成分のサイズを返すべきところで代表元を返していた． <a href="https://atcoder.jp/contests/abc120/submissions/4462059">https://atcoder.jp/contests/abc120/submissions/4462059</a></p>

<p>ある橋が無くなったときに生じる不便さは，「そのときにそれぞれの島が属する連結成分のサイズの積（連結成分が等しいときは$0$）」である（連結成分同士の直積を考えるとよい）．連結関連のあれこれはUnionFindで求めたくなるが，素のUnionFindでは橋の消滅に対応できない．実際に橋を壊すたびに連結成分の個数およびサイズは変化するから，そのままでは「橋を落としたときの連結成分のサイズ」を得るのは厳しそう．</p>

<p>ここで逆に最後の橋から順に橋を架けていくことを考えると，これならそのときの連結成分のサイズがそのままUnionFindで分かる．よってこの順番に積を求めていく．この値はその橋を架けることによって減る不便さ，裏を返せば橋を壊すことで発生する不便さである．求める値は$i$番目までの橋をすべて壊したときの合計であるから，先の値をまた逆順に並び替えて累積させたものが答えとなる．</p>

<!-- ちょっと前に[UnionFindを使う記事を書いていた](/posts/atcoder_aising2019)（その記事ではサイズは使わず）のだけどコードをもう一回提出するか迷う． -->

          <nav id="adjacent">
            
            <div id="next">
              <p><a href="https://00sk0.github.io/blog/posts/cp_001/">競プロ過去問演習#1</a></p>
            </div>
            
            
            <div id="prev">
              <p><a href="https://00sk0.github.io/blog/posts/abc119/">AtCoder Beginner Contest #119</a></p>
            </div>
            
          </nav>
        </article>
        <div id="information">
          <aside id="brief_about">
            <p>WIP</p>
          </aside>
          <nav>
            <section>
              <h1><a href="https://00sk0.github.io/blog/posts">Latest Articles</a></h1>
              <ul id="info_latest_articles">
                
                  <li><a href="https://00sk0.github.io/blog/posts/abc126/">AtCoder Beginner Contest #126</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/atcoder_diverta2019/">AtCoder: diverta 2019 Programming Contest</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/abc125/">AtCoder Beginner Contest #125</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/abc121/">AtCoder Beginner Contest #121</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cp_001/">競プロ過去問演習#1</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/abc120/">AtCoder Beginner Contest #120</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/abc119/">AtCoder Beginner Contest #119</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/abc118/">AtCoder Beginner Contest #118</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/atcoder_yahoo2019/">Atcoder: みんなのプロコン2019</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/atcoder_nikkei2019/">Atcoder: Nikkei Programming Contest 2019</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cf_edu_059/">Educational Codeforces #59</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cf_532/">Codeforces Round #532</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/atcoder_aising2019/">Atcoder: AISing Programming Contest 2019</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cf_530/">Codeforces Round #530</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cf_hello_2019/">Codeforces Hello 2019</a></li>
                  <li><a href="https://00sk0.github.io/blog/posts/cf_goodbye2018/">Codeforces Good Bye 2018</a></li>
              </ul>
            </section>
            <section><h1><a href="https://00sk0.github.io/blog/categories">Categories</a><sub>x3</sub></h1>
              <ul id="info_categories">
                <li><a href="https://00sk0.github.io/blog/categories/competitive_programming">competitive_programming</a><sub>x18</sub></li>
                <li><a href="https://00sk0.github.io/blog/categories/dev">dev</a><sub>x2</sub></li>
                <li><a href="https://00sk0.github.io/blog/categories/random">random</a><sub>x1</sub></li>
                </ul>
            </section>
            <section><h1><a href="https://00sk0.github.io/blog/tags">Tags</a><sub>x9</sub></h1>
              <ul id="info_tags">
                <li><a href="https://00sk0.github.io/blog/tags/ocaml">ocaml</a><sub>x18</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/contest">contest</a><sub>x16</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/atcoder">atcoder</a><sub>x11</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/codeforces">codeforces</a><sub>x7</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/hugo">hugo</a><sub>x2</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/website">website</a><sub>x2</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/algorithm">algorithm</a><sub>x1</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/gh-pages">gh-pages</a><sub>x1</sub></li>
                <li><a href="https://00sk0.github.io/blog/tags/wercker">wercker</a><sub>x1</sub></li>
                </ul>
            </section>
          </nav>
        </div></main>
      <footer id="top">
        <p id="cp">copyright © 2019 sk0</p>
        <p><a href="https://gohugo.io/">Hugo</a>-powered!</p>
      </footer>
    </div>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
      });
      MathJax.Hub.Config({
        TeX:{
          Macros:{
            la: '{\\hspace{5px} \\leftarrow  \\hspace{5px}}',
            ra: '{\\hspace{5px} \\rightarrow \\hspace{5px}}',
            st: '{\\mbox{ s.t. }}',
            ncr: ['{ {} _ {#1} \\mathrm{C} _ {#2} }',2],
            br: '\\\\\\',
            eq: '\\iff' //\\Leftrightarrow
          }
        }
      });
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  </body>
</html>
